"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(admin)/users/page",{

/***/ "(app-pages-browser)/./src/lib/api.ts":
/*!************************!*\
  !*** ./src/lib/api.ts ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   userApi: () => (/* binding */ userApi),\n/* harmony export */   vehicleApi: () => (/* binding */ vehicleApi)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(app-pages-browser)/../../node_modules/axios/lib/axios.js\");\n\n// URL cơ sở của API backend\nconst API_BASE_URL = \"http://localhost:5000/api\" || 0;\n// Tạo axios instance với cấu hình mặc định\nconst apiClient = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n    baseURL: API_BASE_URL,\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    timeout: 30000\n});\n// Interceptors để xử lý authentication token\napiClient.interceptors.request.use((config)=>{\n    var _config_method;\n    const token = localStorage.getItem('admin_token');\n    if (token) {\n        config.headers.Authorization = \"Bearer \".concat(token);\n    }\n    console.log(\"Gọi API: \".concat((_config_method = config.method) === null || _config_method === void 0 ? void 0 : _config_method.toUpperCase(), \" \").concat(config.url), config.params || config.data);\n    return config;\n}, (error)=>{\n    console.error('Lỗi request:', error.message);\n    return Promise.reject(error);\n});\n// Interceptors để xử lý token hết hạn\napiClient.interceptors.response.use((response)=>{\n    return response;\n}, async (error)=>{\n    var _error_response, _error_response1, _error_response2;\n    if (!error.response) {\n        console.error('Lỗi kết nối tới server:', error.message);\n        return Promise.reject(new Error('Không thể kết nối tới server. Vui lòng kiểm tra lại kết nối mạng.'));\n    }\n    const originalRequest = error.config;\n    if (!originalRequest) {\n        return Promise.reject(error);\n    }\n    // Nếu lỗi là 401 và chưa thử refresh token\n    if (((_error_response = error.response) === null || _error_response === void 0 ? void 0 : _error_response.status) === 401 && !originalRequest._retry) {\n        originalRequest._retry = true;\n        try {\n            // Refresh token\n            const refreshToken = localStorage.getItem('admin_refresh_token');\n            if (!refreshToken) {\n                // Nếu không có refresh token, chuyển tới trang login thay vì đăng xuất trực tiếp\n                window.location.href = '/login';\n                return Promise.reject(new Error('Phiên làm việc đã hết hạn. Vui lòng đăng nhập lại.'));\n            }\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"\".concat(API_BASE_URL, \"/users/refresh-token\"), {\n                refreshToken\n            });\n            const { token } = response.data;\n            localStorage.setItem('admin_token', token);\n            // Cập nhật token trong header và thử lại request\n            originalRequest.headers.Authorization = \"Bearer \".concat(token);\n            return (0,axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(originalRequest);\n        } catch (err) {\n            // Nếu refresh token thất bại, chuyển tới trang login\n            window.location.href = '/login';\n            return Promise.reject(new Error('Phiên làm việc đã hết hạn. Vui lòng đăng nhập lại.'));\n        }\n    }\n    // Xử lý các lỗi HTTP khác\n    const errorData = (_error_response1 = error.response) === null || _error_response1 === void 0 ? void 0 : _error_response1.data;\n    const errorMessage = typeof errorData === 'object' && errorData !== null ? errorData.message || 'Đã xảy ra lỗi không xác định' : 'Đã xảy ra lỗi không xác định';\n    console.error(\"Lỗi API (\".concat((_error_response2 = error.response) === null || _error_response2 === void 0 ? void 0 : _error_response2.status, \"):\"), errorMessage);\n    return Promise.reject(error);\n});\n// Hàm đăng xuất\nconst logout = ()=>{\n    localStorage.removeItem('admin_token');\n    localStorage.removeItem('admin_refresh_token');\n    localStorage.removeItem('admin_user');\n    // Chuyển hướng đến trang đăng nhập\n    if (true) {\n        window.location.href = '/login';\n    }\n};\n// API endpoints cho quản lý người dùng\nconst userApi = {\n    // Đăng nhập admin\n    login: async (email, password)=>{\n        try {\n            const response = await apiClient.post('/users/admin-login', {\n                email,\n                password\n            });\n            const data = response.data;\n            // Lưu token ngay sau khi đăng nhập thành công\n            localStorage.setItem('admin_token', data.token);\n            localStorage.setItem('admin_refresh_token', data.refreshToken);\n            localStorage.setItem('admin_user', JSON.stringify({\n                _id: data._id,\n                full_name: data.full_name,\n                email: data.email,\n                role: data.role\n            }));\n            return data;\n        } catch (error) {\n            console.error('Lỗi đăng nhập:', error);\n            throw error;\n        }\n    },\n    // Lấy chi tiết người dùng theo ID\n    getUserDetails: async (userId)=>{\n        try {\n            const response = await apiClient.get(\"/users/admin/user/\".concat(userId));\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi lấy thông tin chi tiết người dùng:', error);\n            throw error;\n        }\n    },\n    // Lấy danh sách phương tiện của người dùng\n    getUserVehicles: async (userId)=>{\n        try {\n            const response = await apiClient.get(\"/vehicles/user/\".concat(userId));\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi lấy danh sách phương tiện của người dùng:', error);\n            throw error;\n        }\n    },\n    // Lấy danh sách người dùng\n    getUsers: async (params)=>{\n        try {\n            // Tạo đối tượng tham số tương thích với backend\n            const apiParams = {\n                search: params.search || '',\n                page: params.page || 1,\n                limit: params.limit || 10\n            };\n            // Xử lý tham số role\n            if (params.role && params.role !== 'all') {\n                apiParams.role = params.role;\n            }\n            // Xử lý tham số is_locked\n            if (params.is_locked !== undefined) {\n                apiParams.is_locked = params.is_locked;\n            }\n            // Xử lý tham số kyc_status\n            if (params.kyc_status && params.kyc_status !== 'all') {\n                apiParams.kyc_status = params.kyc_status;\n            }\n            const response = await apiClient.get('/users', {\n                params: apiParams\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi lấy danh sách người dùng:', error);\n            throw error;\n        }\n    },\n    // Khóa/mở khóa tài khoản người dùng\n    toggleUserLock: async (userId, isLocked)=>{\n        try {\n            const response = await apiClient.post('/users/toggle-lock', {\n                userId,\n                isLocked\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi thay đổi trạng thái khóa người dùng:', error);\n            throw error;\n        }\n    },\n    // Cập nhật trạng thái KYC\n    updateKycStatus: async (userId, kyc_status)=>{\n        try {\n            const response = await apiClient.post('/users/update-kyc-status', {\n                userId,\n                kycStatus: kyc_status // Đổi từ kyc_status thành kycStatus để phù hợp với API backend\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi cập nhật trạng thái KYC:', error);\n            throw error;\n        }\n    }\n};\n// API endpoints cho quản lý phương tiện\nconst vehicleApi = {\n    // Lấy danh sách phương tiện cho admin\n    getVehicles: async (params)=>{\n        try {\n            // Tạo đối tượng tham số tương thích với backend\n            const apiParams = {\n                page: params.page || 1,\n                limit: params.limit || 10\n            };\n            // Xử lý tham số tìm kiếm\n            if (params.search) {\n                apiParams.search = params.search;\n            }\n            // Xử lý tham số loại xe\n            if (params.type && params.type !== 'all') {\n                apiParams.type = params.type;\n            }\n            // Xử lý tham số trạng thái\n            if (params.status && params.status !== 'all') {\n                apiParams.status = params.status;\n            }\n            // Xử lý tham số người bán\n            if (params.seller && params.seller !== 'all') {\n                apiParams.seller = params.seller;\n            }\n            const response = await apiClient.get('/vehicles/admin', {\n                params: apiParams\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi lấy danh sách phương tiện:', error);\n            throw error;\n        }\n    },\n    // Cập nhật trạng thái phương tiện\n    updateVehicleStatus: async (vehicleId, status)=>{\n        try {\n            const response = await apiClient.put(\"/vehicles/admin/\".concat(vehicleId, \"/status\"), {\n                status\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi cập nhật trạng thái phương tiện:', error);\n            throw error;\n        }\n    },\n    // Lấy chi tiết phương tiện\n    getVehicleDetails: async (vehicleId)=>{\n        try {\n            const response = await apiClient.get(\"/vehicles/\".concat(vehicleId));\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi lấy chi tiết phương tiện:', error);\n            throw error;\n        }\n    },\n    // Xóa phương tiện\n    deleteVehicle: async (vehicleId)=>{\n        try {\n            const response = await apiClient.delete(\"/vehicles/\".concat(vehicleId));\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi xóa phương tiện:', error);\n            throw error;\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (apiClient);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixPQUFWSjtZQUNyRCxPQUFPOUMsU0FBU0wsSUFBSTtRQUN0QixFQUFFLE9BQU9DLE9BQU87WUFDZFAsUUFBUU8sS0FBSyxDQUFDLDRCQUE0QkE7WUFDMUMsTUFBTUE7UUFDUjtJQUNGO0FBQ0YsRUFBRTtBQUNGLGlFQUFlcEIsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsiRDpcXHVzZWQtY2FyLW1hcmtldHBsYWNlXFxwYWNrYWdlc1xcYWRtaW5cXHNyY1xcbGliXFxhcGkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zLCB7IEF4aW9zRXJyb3IgfSBmcm9tICdheGlvcyc7XG5cbi8vIFVSTCBjxqEgc+G7nyBj4bunYSBBUEkgYmFja2VuZFxuY29uc3QgQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaSc7XG5cbi8vIFThuqFvIGF4aW9zIGluc3RhbmNlIHbhu5tpIGPhuqV1IGjDrG5oIG3hurdjIMSR4buLbmhcbmNvbnN0IGFwaUNsaWVudCA9IGF4aW9zLmNyZWF0ZSh7XG4gIGJhc2VVUkw6IEFQSV9CQVNFX1VSTCxcbiAgaGVhZGVyczoge1xuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gIH0sXG4gIHRpbWVvdXQ6IDMwMDAwLCAvLyBUaW1lb3V0IDMwIGdpw6J5XG59KTtcblxuLy8gSW50ZXJjZXB0b3JzIMSR4buDIHjhu60gbMO9IGF1dGhlbnRpY2F0aW9uIHRva2VuXG5hcGlDbGllbnQuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKFxuICAoY29uZmlnKSA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWRtaW5fdG9rZW4nKTtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBgQmVhcmVyICR7dG9rZW59YDtcbiAgICB9XG4gICAgY29uc29sZS5sb2coYEfhu41pIEFQSTogJHtjb25maWcubWV0aG9kPy50b1VwcGVyQ2FzZSgpfSAke2NvbmZpZy51cmx9YCwgY29uZmlnLnBhcmFtcyB8fCBjb25maWcuZGF0YSk7XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfSxcbiAgKGVycm9yKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcignTOG7l2kgcmVxdWVzdDonLCBlcnJvci5tZXNzYWdlKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICB9XG4pO1xuXG4vLyBJbnRlcmNlcHRvcnMgxJHhu4MgeOG7rSBsw70gdG9rZW4gaOG6v3QgaOG6oW5cbmFwaUNsaWVudC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKFxuICAocmVzcG9uc2UpID0+IHtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sXG4gIGFzeW5jIChlcnJvcjogQXhpb3NFcnJvcikgPT4ge1xuICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGvhur90IG7hu5FpIHThu5tpIHNlcnZlcjonLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0tow7RuZyB0aOG7gyBr4bq/dCBu4buRaSB04bubaSBzZXJ2ZXIuIFZ1aSBsw7JuZyBraeG7g20gdHJhIGzhuqFpIGvhur90IG7hu5FpIG3huqFuZy4nKSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG9yaWdpbmFsUmVxdWVzdCA9IGVycm9yLmNvbmZpZztcbiAgICBpZiAoIW9yaWdpbmFsUmVxdWVzdCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG4gICAgXG4gICAgLy8gTuG6v3UgbOG7l2kgbMOgIDQwMSB2w6AgY2jGsGEgdGjhu60gcmVmcmVzaCB0b2tlblxuICAgIGlmIChlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDEgJiYgIShvcmlnaW5hbFJlcXVlc3QgYXMgYW55KS5fcmV0cnkpIHtcbiAgICAgIChvcmlnaW5hbFJlcXVlc3QgYXMgYW55KS5fcmV0cnkgPSB0cnVlO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICAvLyBSZWZyZXNoIHRva2VuXG4gICAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhZG1pbl9yZWZyZXNoX3Rva2VuJyk7XG4gICAgICAgIGlmICghcmVmcmVzaFRva2VuKSB7XG4gICAgICAgICAgLy8gTuG6v3Uga2jDtG5nIGPDsyByZWZyZXNoIHRva2VuLCBjaHV54buDbiB04bubaSB0cmFuZyBsb2dpbiB0aGF5IHbDrCDEkcSDbmcgeHXhuqV0IHRy4buxYyB0aeG6v3BcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvbG9naW4nO1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1BoacOqbiBsw6BtIHZp4buHYyDEkcOjIGjhur90IGjhuqFuLiBWdWkgbMOybmcgxJHEg25nIG5o4bqtcCBs4bqhaS4nKSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChgJHtBUElfQkFTRV9VUkx9L3VzZXJzL3JlZnJlc2gtdG9rZW5gLCB7XG4gICAgICAgICAgcmVmcmVzaFRva2VuXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgeyB0b2tlbiB9ID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FkbWluX3Rva2VuJywgdG9rZW4pO1xuICAgICAgICBcbiAgICAgICAgLy8gQ+G6rXAgbmjhuq10IHRva2VuIHRyb25nIGhlYWRlciB2w6AgdGjhu60gbOG6oWkgcmVxdWVzdFxuICAgICAgICBvcmlnaW5hbFJlcXVlc3QuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYEJlYXJlciAke3Rva2VufWA7XG4gICAgICAgIHJldHVybiBheGlvcyhvcmlnaW5hbFJlcXVlc3QpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIE7hur91IHJlZnJlc2ggdG9rZW4gdGjhuqV0IGLhuqFpLCBjaHV54buDbiB04bubaSB0cmFuZyBsb2dpblxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvbG9naW4nO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdQaGnDqm4gbMOgbSB2aeG7h2MgxJHDoyBo4bq/dCBo4bqhbi4gVnVpIGzDsm5nIMSRxINuZyBuaOG6rXAgbOG6oWkuJykpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBY4butIGzDvSBjw6FjIGzhu5dpIEhUVFAga2jDoWNcbiAgICBjb25zdCBlcnJvckRhdGEgPSBlcnJvci5yZXNwb25zZT8uZGF0YTtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0eXBlb2YgZXJyb3JEYXRhID09PSAnb2JqZWN0JyAmJiBlcnJvckRhdGEgIT09IG51bGwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgPyAoKGVycm9yRGF0YSBhcyBhbnkpLm1lc3NhZ2UgfHwgJ8SQw6MgeOG6o3kgcmEgbOG7l2kga2jDtG5nIHjDoWMgxJHhu4tuaCcpIFxuICAgICAgICAgICAgICAgICAgICAgICAgIDogJ8SQw6MgeOG6o3kgcmEgbOG7l2kga2jDtG5nIHjDoWMgxJHhu4tuaCc7XG4gICAgY29uc29sZS5lcnJvcihgTOG7l2kgQVBJICgke2Vycm9yLnJlc3BvbnNlPy5zdGF0dXN9KTpgLCBlcnJvck1lc3NhZ2UpO1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gIH1cbik7XG5cbi8vIEjDoG0gxJHEg25nIHh14bqldFxuY29uc3QgbG9nb3V0ID0gKCkgPT4ge1xuICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYWRtaW5fdG9rZW4nKTtcbiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FkbWluX3JlZnJlc2hfdG9rZW4nKTtcbiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FkbWluX3VzZXInKTtcbiAgXG4gIC8vIENodXnhu4NuIGjGsOG7m25nIMSR4bq/biB0cmFuZyDEkcSDbmcgbmjhuq1wXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbic7XG4gIH1cbn07XG5cbi8vIEFQSSBlbmRwb2ludHMgY2hvIHF14bqjbiBsw70gbmfGsOG7nWkgZMO5bmdcbmV4cG9ydCBjb25zdCB1c2VyQXBpID0ge1xuICAvLyDEkMSDbmcgbmjhuq1wIGFkbWluXG4gIGxvZ2luOiBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5wb3N0KCcvdXNlcnMvYWRtaW4tbG9naW4nLCB7IGVtYWlsLCBwYXNzd29yZCB9KTtcbiAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhO1xuICAgICAgXG4gICAgICAvLyBMxrB1IHRva2VuIG5nYXkgc2F1IGtoaSDEkcSDbmcgbmjhuq1wIHRow6BuaCBjw7RuZ1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FkbWluX3Rva2VuJywgZGF0YS50b2tlbik7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWRtaW5fcmVmcmVzaF90b2tlbicsIGRhdGEucmVmcmVzaFRva2VuKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhZG1pbl91c2VyJywgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBfaWQ6IGRhdGEuX2lkLFxuICAgICAgICBmdWxsX25hbWU6IGRhdGEuZnVsbF9uYW1lLFxuICAgICAgICBlbWFpbDogZGF0YS5lbWFpbCxcbiAgICAgICAgcm9sZTogZGF0YS5yb2xlXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdM4buXaSDEkcSDbmcgbmjhuq1wOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSxcbiAgXG4gIC8vIEzhuqV5IGNoaSB0aeG6v3QgbmfGsOG7nWkgZMO5bmcgdGhlbyBJRFxuICBnZXRVc2VyRGV0YWlsczogYXN5bmMgKHVzZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LmdldChgL3VzZXJzL2FkbWluL3VzZXIvJHt1c2VySWR9YCk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTOG7l2kga2hpIGzhuqV5IHRow7RuZyB0aW4gY2hpIHRp4bq/dCBuZ8aw4budaSBkw7luZzonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0sXG4gIFxuICAvLyBM4bqleSBkYW5oIHPDoWNoIHBoxrDGoW5nIHRp4buHbiBj4bunYSBuZ8aw4budaSBkw7luZ1xuICBnZXRVc2VyVmVoaWNsZXM6IGFzeW5jICh1c2VySWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5nZXQoYC92ZWhpY2xlcy91c2VyLyR7dXNlcklkfWApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSBs4bqleSBkYW5oIHPDoWNoIHBoxrDGoW5nIHRp4buHbiBj4bunYSBuZ8aw4budaSBkw7luZzonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0sXG4gIFxuICAvLyBM4bqleSBkYW5oIHPDoWNoIG5nxrDhu51pIGTDuW5nXG4gIGdldFVzZXJzOiBhc3luYyAocGFyYW1zOiB7XG4gICAgc2VhcmNoPzogc3RyaW5nO1xuICAgIHJvbGU/OiBzdHJpbmc7XG4gICAgaXNfbG9ja2VkPzogYm9vbGVhbjtcbiAgICBreWNfc3RhdHVzPzogc3RyaW5nO1xuICAgIHBhZ2U/OiBudW1iZXI7XG4gICAgbGltaXQ/OiBudW1iZXI7XG4gIH0pID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVOG6oW8gxJHhu5FpIHTGsOG7o25nIHRoYW0gc+G7kSB0xrDGoW5nIHRow61jaCB24bubaSBiYWNrZW5kXG4gICAgICBjb25zdCBhcGlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7XG4gICAgICAgIHNlYXJjaDogcGFyYW1zLnNlYXJjaCB8fCAnJyxcbiAgICAgICAgcGFnZTogcGFyYW1zLnBhZ2UgfHwgMSxcbiAgICAgICAgbGltaXQ6IHBhcmFtcy5saW1pdCB8fCAxMFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gWOG7rSBsw70gdGhhbSBz4buRIHJvbGVcbiAgICAgIGlmIChwYXJhbXMucm9sZSAmJiBwYXJhbXMucm9sZSAhPT0gJ2FsbCcpIHtcbiAgICAgICAgYXBpUGFyYW1zLnJvbGUgPSBwYXJhbXMucm9sZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gWOG7rSBsw70gdGhhbSBz4buRIGlzX2xvY2tlZFxuICAgICAgaWYgKHBhcmFtcy5pc19sb2NrZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhcGlQYXJhbXMuaXNfbG9ja2VkID0gcGFyYW1zLmlzX2xvY2tlZDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gWOG7rSBsw70gdGhhbSBz4buRIGt5Y19zdGF0dXNcbiAgICAgIGlmIChwYXJhbXMua3ljX3N0YXR1cyAmJiBwYXJhbXMua3ljX3N0YXR1cyAhPT0gJ2FsbCcpIHtcbiAgICAgICAgYXBpUGFyYW1zLmt5Y19zdGF0dXMgPSBwYXJhbXMua3ljX3N0YXR1cztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQuZ2V0KCcvdXNlcnMnLCB7IHBhcmFtczogYXBpUGFyYW1zIH0pO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGzhuqV5IGRhbmggc8OhY2ggbmfGsOG7nWkgZMO5bmc6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9LFxuICBcbiAgLy8gS2jDs2EvbeG7nyBraMOzYSB0w6BpIGtob+G6o24gbmfGsOG7nWkgZMO5bmdcbiAgdG9nZ2xlVXNlckxvY2s6IGFzeW5jICh1c2VySWQ6IHN0cmluZywgaXNMb2NrZWQ6IGJvb2xlYW4pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQucG9zdCgnL3VzZXJzL3RvZ2dsZS1sb2NrJywge1xuICAgICAgICB1c2VySWQsXG4gICAgICAgIGlzTG9ja2VkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgdGhheSDEkeG7lWkgdHLhuqFuZyB0aMOhaSBraMOzYSBuZ8aw4budaSBkw7luZzonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0sXG4gIFxuICAvLyBD4bqtcCBuaOG6rXQgdHLhuqFuZyB0aMOhaSBLWUNcbiAgdXBkYXRlS3ljU3RhdHVzOiBhc3luYyAodXNlcklkOiBzdHJpbmcsIGt5Y19zdGF0dXM6ICdwZW5kaW5nJyB8ICd2ZXJpZmllZCcgfCAncmVqZWN0ZWQnKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LnBvc3QoJy91c2Vycy91cGRhdGUta3ljLXN0YXR1cycsIHtcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBreWNTdGF0dXM6IGt5Y19zdGF0dXMgIC8vIMSQ4buVaSB04burIGt5Y19zdGF0dXMgdGjDoG5oIGt5Y1N0YXR1cyDEkeG7gyBwaMO5IGjhu6NwIHbhu5tpIEFQSSBiYWNrZW5kXG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgY+G6rXAgbmjhuq10IHRy4bqhbmcgdGjDoWkgS1lDOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufTtcblxuLy8gQVBJIGVuZHBvaW50cyBjaG8gcXXhuqNuIGzDvSBwaMawxqFuZyB0aeG7h25cbmV4cG9ydCBjb25zdCB2ZWhpY2xlQXBpID0ge1xuICAvLyBM4bqleSBkYW5oIHPDoWNoIHBoxrDGoW5nIHRp4buHbiBjaG8gYWRtaW5cbiAgZ2V0VmVoaWNsZXM6IGFzeW5jIChwYXJhbXM6IHtcbiAgICBzZWFyY2g/OiBzdHJpbmc7XG4gICAgdHlwZT86IHN0cmluZztcbiAgICBzdGF0dXM/OiBzdHJpbmc7XG4gICAgc2VsbGVyPzogc3RyaW5nO1xuICAgIHBhZ2U/OiBudW1iZXI7XG4gICAgbGltaXQ/OiBudW1iZXI7XG4gIH0pID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVOG6oW8gxJHhu5FpIHTGsOG7o25nIHRoYW0gc+G7kSB0xrDGoW5nIHRow61jaCB24bubaSBiYWNrZW5kXG4gICAgICBjb25zdCBhcGlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7XG4gICAgICAgIHBhZ2U6IHBhcmFtcy5wYWdlIHx8IDEsXG4gICAgICAgIGxpbWl0OiBwYXJhbXMubGltaXQgfHwgMTBcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIFjhu60gbMO9IHRoYW0gc+G7kSB0w6xtIGtp4bq/bVxuICAgICAgaWYgKHBhcmFtcy5zZWFyY2gpIHtcbiAgICAgICAgYXBpUGFyYW1zLnNlYXJjaCA9IHBhcmFtcy5zZWFyY2g7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFjhu60gbMO9IHRoYW0gc+G7kSBsb+G6oWkgeGVcbiAgICAgIGlmIChwYXJhbXMudHlwZSAmJiBwYXJhbXMudHlwZSAhPT0gJ2FsbCcpIHtcbiAgICAgICAgYXBpUGFyYW1zLnR5cGUgPSBwYXJhbXMudHlwZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gWOG7rSBsw70gdGhhbSBz4buRIHRy4bqhbmcgdGjDoWlcbiAgICAgIGlmIChwYXJhbXMuc3RhdHVzICYmIHBhcmFtcy5zdGF0dXMgIT09ICdhbGwnKSB7XG4gICAgICAgIGFwaVBhcmFtcy5zdGF0dXMgPSBwYXJhbXMuc3RhdHVzO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBY4butIGzDvSB0aGFtIHPhu5EgbmfGsOG7nWkgYsOhblxuICAgICAgaWYgKHBhcmFtcy5zZWxsZXIgJiYgcGFyYW1zLnNlbGxlciAhPT0gJ2FsbCcpIHtcbiAgICAgICAgYXBpUGFyYW1zLnNlbGxlciA9IHBhcmFtcy5zZWxsZXI7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LmdldCgnL3ZlaGljbGVzL2FkbWluJywgeyBwYXJhbXM6IGFwaVBhcmFtcyB9KTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBs4bqleSBkYW5oIHPDoWNoIHBoxrDGoW5nIHRp4buHbjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0sXG4gIFxuICAvLyBD4bqtcCBuaOG6rXQgdHLhuqFuZyB0aMOhaSBwaMawxqFuZyB0aeG7h25cbiAgdXBkYXRlVmVoaWNsZVN0YXR1czogYXN5bmMgKHZlaGljbGVJZDogc3RyaW5nLCBzdGF0dXM6ICdwZW5kaW5nJyB8ICdhcHByb3ZlZCcgfCAncmVqZWN0ZWQnIHwgJ3NvbGQnIHwgJ2hpZGRlbicpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQucHV0KGAvdmVoaWNsZXMvYWRtaW4vJHt2ZWhpY2xlSWR9L3N0YXR1c2AsIHsgc3RhdHVzIH0pO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSBj4bqtcCBuaOG6rXQgdHLhuqFuZyB0aMOhaSBwaMawxqFuZyB0aeG7h246JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9LFxuICBcbiAgLy8gTOG6pXkgY2hpIHRp4bq/dCBwaMawxqFuZyB0aeG7h25cbiAgZ2V0VmVoaWNsZURldGFpbHM6IGFzeW5jICh2ZWhpY2xlSWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5nZXQoYC92ZWhpY2xlcy8ke3ZlaGljbGVJZH1gKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgbOG6pXkgY2hpIHRp4bq/dCBwaMawxqFuZyB0aeG7h246JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9LFxuICBcbiAgLy8gWMOzYSBwaMawxqFuZyB0aeG7h25cbiAgZGVsZXRlVmVoaWNsZTogYXN5bmMgKHZlaGljbGVJZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LmRlbGV0ZShgL3ZlaGljbGVzLyR7dmVoaWNsZUlkfWApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSB4w7NhIHBoxrDGoW5nIHRp4buHbjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn07XG5leHBvcnQgZGVmYXVsdCBhcGlDbGllbnQ7ICJdLCJuYW1lcyI6WyJheGlvcyIsIkFQSV9CQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiYXBpQ2xpZW50IiwiY3JlYXRlIiwiYmFzZVVSTCIsImhlYWRlcnMiLCJ0aW1lb3V0IiwiaW50ZXJjZXB0b3JzIiwicmVxdWVzdCIsInVzZSIsImNvbmZpZyIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkF1dGhvcml6YXRpb24iLCJjb25zb2xlIiwibG9nIiwibWV0aG9kIiwidG9VcHBlckNhc2UiLCJ1cmwiLCJwYXJhbXMiLCJkYXRhIiwiZXJyb3IiLCJtZXNzYWdlIiwiUHJvbWlzZSIsInJlamVjdCIsInJlc3BvbnNlIiwiRXJyb3IiLCJvcmlnaW5hbFJlcXVlc3QiLCJzdGF0dXMiLCJfcmV0cnkiLCJyZWZyZXNoVG9rZW4iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJwb3N0Iiwic2V0SXRlbSIsImVyciIsImVycm9yRGF0YSIsImVycm9yTWVzc2FnZSIsImxvZ291dCIsInJlbW92ZUl0ZW0iLCJ1c2VyQXBpIiwibG9naW4iLCJlbWFpbCIsInBhc3N3b3JkIiwiSlNPTiIsInN0cmluZ2lmeSIsIl9pZCIsImZ1bGxfbmFtZSIsInJvbGUiLCJnZXRVc2VyRGV0YWlscyIsInVzZXJJZCIsImdldCIsImdldFVzZXJWZWhpY2xlcyIsImdldFVzZXJzIiwiYXBpUGFyYW1zIiwic2VhcmNoIiwicGFnZSIsImxpbWl0IiwiaXNfbG9ja2VkIiwidW5kZWZpbmVkIiwia3ljX3N0YXR1cyIsInRvZ2dsZVVzZXJMb2NrIiwiaXNMb2NrZWQiLCJ1cGRhdGVLeWNTdGF0dXMiLCJreWNTdGF0dXMiLCJ2ZWhpY2xlQXBpIiwiZ2V0VmVoaWNsZXMiLCJ0eXBlIiwic2VsbGVyIiwidXBkYXRlVmVoaWNsZVN0YXR1cyIsInZlaGljbGVJZCIsInB1dCIsImdldFZlaGljbGVEZXRhaWxzIiwiZGVsZXRlVmVoaWNsZSIsImRlbGV0ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/api.ts\n"));

/***/ })

});