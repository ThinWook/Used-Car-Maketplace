"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(admin)/users/page",{

/***/ "(app-pages-browser)/./src/lib/api.ts":
/*!************************!*\
  !*** ./src/lib/api.ts ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   userApi: () => (/* binding */ userApi),\n/* harmony export */   vehicleApi: () => (/* binding */ vehicleApi)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(app-pages-browser)/../../node_modules/axios/lib/axios.js\");\n\n// URL cơ sở của API backend\nconst API_BASE_URL = \"http://localhost:5000/api\" || 0;\n// Tạo axios instance với cấu hình mặc định\nconst apiClient = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n    baseURL: API_BASE_URL,\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    timeout: 30000\n});\n// Interceptors để xử lý authentication token\napiClient.interceptors.request.use((config)=>{\n    var _config_method;\n    const token = localStorage.getItem('admin_token');\n    if (token) {\n        config.headers.Authorization = \"Bearer \".concat(token);\n    }\n    console.log(\"Gọi API: \".concat((_config_method = config.method) === null || _config_method === void 0 ? void 0 : _config_method.toUpperCase(), \" \").concat(config.url), config.params || config.data);\n    return config;\n}, (error)=>{\n    console.error('Lỗi request:', error.message);\n    return Promise.reject(error);\n});\n// Interceptors để xử lý token hết hạn\napiClient.interceptors.response.use((response)=>{\n    return response;\n}, async (error)=>{\n    var _error_response, _error_response1, _error_response2;\n    if (!error.response) {\n        console.error('Lỗi kết nối tới server:', error.message);\n        return Promise.reject(new Error('Không thể kết nối tới server. Vui lòng kiểm tra lại kết nối mạng.'));\n    }\n    const originalRequest = error.config;\n    if (!originalRequest) {\n        return Promise.reject(error);\n    }\n    // Nếu lỗi là 401 và chưa thử refresh token\n    if (((_error_response = error.response) === null || _error_response === void 0 ? void 0 : _error_response.status) === 401 && !originalRequest._retry) {\n        originalRequest._retry = true;\n        try {\n            // Refresh token\n            const refreshToken = localStorage.getItem('admin_refresh_token');\n            if (!refreshToken) {\n                // Nếu không có refresh token, chuyển tới trang login thay vì đăng xuất trực tiếp\n                window.location.href = '/login';\n                return Promise.reject(new Error('Phiên làm việc đã hết hạn. Vui lòng đăng nhập lại.'));\n            }\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"\".concat(API_BASE_URL, \"/users/refresh-token\"), {\n                refreshToken\n            });\n            const { token } = response.data;\n            localStorage.setItem('admin_token', token);\n            // Cập nhật token trong header và thử lại request\n            originalRequest.headers.Authorization = \"Bearer \".concat(token);\n            return (0,axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(originalRequest);\n        } catch (err) {\n            // Nếu refresh token thất bại, chuyển tới trang login\n            window.location.href = '/login';\n            return Promise.reject(new Error('Phiên làm việc đã hết hạn. Vui lòng đăng nhập lại.'));\n        }\n    }\n    // Xử lý các lỗi HTTP khác\n    const errorData = (_error_response1 = error.response) === null || _error_response1 === void 0 ? void 0 : _error_response1.data;\n    const errorMessage = typeof errorData === 'object' && errorData !== null ? errorData.message || 'Đã xảy ra lỗi không xác định' : 'Đã xảy ra lỗi không xác định';\n    console.error(\"Lỗi API (\".concat((_error_response2 = error.response) === null || _error_response2 === void 0 ? void 0 : _error_response2.status, \"):\"), errorMessage);\n    return Promise.reject(error);\n});\n// Hàm đăng xuất\nconst logout = ()=>{\n    localStorage.removeItem('admin_token');\n    localStorage.removeItem('admin_refresh_token');\n    localStorage.removeItem('admin_user');\n    // Chuyển hướng đến trang đăng nhập\n    if (true) {\n        window.location.href = '/login';\n    }\n};\n// API endpoints cho quản lý người dùng\nconst userApi = {\n    // Đăng nhập admin\n    login: async (email, password)=>{\n        try {\n            const response = await apiClient.post('/users/admin-login', {\n                email,\n                password\n            });\n            const data = response.data;\n            // Lưu token ngay sau khi đăng nhập thành công\n            localStorage.setItem('admin_token', data.token);\n            localStorage.setItem('admin_refresh_token', data.refreshToken);\n            localStorage.setItem('admin_user', JSON.stringify({\n                _id: data._id,\n                full_name: data.full_name,\n                email: data.email,\n                role: data.role\n            }));\n            return data;\n        } catch (error) {\n            console.error('Lỗi đăng nhập:', error);\n            throw error;\n        }\n    },\n    // Lấy chi tiết người dùng theo ID\n    getUserDetails: async (userId)=>{\n        try {\n            const response = await apiClient.get(\"/users/admin/user/\".concat(userId));\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi lấy thông tin chi tiết người dùng:', error);\n            throw error;\n        }\n    },\n    // Lấy danh sách phương tiện của người dùng\n    getUserVehicles: async (userId)=>{\n        try {\n            const response = await apiClient.get(\"/vehicles/user/\".concat(userId));\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi lấy danh sách phương tiện của người dùng:', error);\n            throw error;\n        }\n    },\n    // Lấy danh sách người dùng\n    getUsers: async (params)=>{\n        try {\n            // Tạo đối tượng tham số tương thích với backend\n            const apiParams = {\n                search: params.search || '',\n                page: params.page || 1,\n                limit: params.limit || 10\n            };\n            // Xử lý tham số role\n            if (params.role && params.role !== 'all') {\n                apiParams.role = params.role;\n            }\n            // Xử lý tham số is_locked\n            if (params.is_locked !== undefined) {\n                apiParams.is_locked = params.is_locked;\n            }\n            // Xử lý tham số kyc_status\n            if (params.kyc_status && params.kyc_status !== 'all') {\n                apiParams.kyc_status = params.kyc_status;\n            }\n            const response = await apiClient.get('/users', {\n                params: apiParams\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi lấy danh sách người dùng:', error);\n            throw error;\n        }\n    },\n    // Khóa/mở khóa tài khoản người dùng\n    toggleUserLock: async (userId, isLocked)=>{\n        try {\n            const response = await apiClient.put('/users/toggle-lock', {\n                userId,\n                isLocked\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi thay đổi trạng thái khóa người dùng:', error);\n            throw error;\n        }\n    },\n    // Cập nhật trạng thái KYC\n    updateKycStatus: async (userId, kyc_status)=>{\n        try {\n            const response = await apiClient.put('/users/update-kyc-status', {\n                userId,\n                kycStatus: kyc_status // Đổi từ kyc_status thành kycStatus để phù hợp với API backend\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi cập nhật trạng thái KYC:', error);\n            throw error;\n        }\n    }\n};\n// API endpoints cho quản lý phương tiện\nconst vehicleApi = {\n    // Lấy danh sách phương tiện cho admin\n    getVehicles: async (params)=>{\n        try {\n            // Tạo đối tượng tham số tương thích với backend\n            const apiParams = {\n                page: params.page || 1,\n                limit: params.limit || 10\n            };\n            // Xử lý tham số tìm kiếm\n            if (params.search) {\n                apiParams.search = params.search;\n            }\n            // Xử lý tham số loại xe\n            if (params.type && params.type !== 'all') {\n                apiParams.type = params.type;\n            }\n            // Xử lý tham số trạng thái\n            if (params.status && params.status !== 'all') {\n                apiParams.status = params.status;\n            }\n            // Xử lý tham số người bán\n            if (params.seller && params.seller !== 'all') {\n                apiParams.seller = params.seller;\n            }\n            const response = await apiClient.get('/vehicles/admin', {\n                params: apiParams\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi lấy danh sách phương tiện:', error);\n            throw error;\n        }\n    },\n    // Cập nhật trạng thái phương tiện\n    updateVehicleStatus: async (vehicleId, status)=>{\n        try {\n            const response = await apiClient.put(\"/vehicles/admin/\".concat(vehicleId, \"/status\"), {\n                status\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi cập nhật trạng thái phương tiện:', error);\n            throw error;\n        }\n    },\n    // Lấy chi tiết phương tiện\n    getVehicleDetails: async (vehicleId)=>{\n        try {\n            const response = await apiClient.get(\"/vehicles/\".concat(vehicleId));\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi lấy chi tiết phương tiện:', error);\n            throw error;\n        }\n    },\n    // Xóa phương tiện\n    deleteVehicle: async (vehicleId)=>{\n        try {\n            const response = await apiClient.delete(\"/vehicles/\".concat(vehicleId));\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi xóa phương tiện:', error);\n            throw error;\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (apiClient);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBVkg7WUFDckQsT0FBTy9DLFNBQVNMLElBQUk7UUFDdEIsRUFBRSxPQUFPQyxPQUFPO1lBQ2RQLFFBQVFPLEtBQUssQ0FBQyw0QkFBNEJBO1lBQzFDLE1BQU1BO1FBQ1I7SUFDRjtBQUNGLEVBQUU7QUFDRixpRUFBZXBCLFNBQVNBLEVBQUMiLCJzb3VyY2VzIjpbIkQ6XFx1c2VkLWNhci1tYXJrZXRwbGFjZVxccGFja2FnZXNcXGFkbWluXFxzcmNcXGxpYlxcYXBpLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcywgeyBBeGlvc0Vycm9yIH0gZnJvbSAnYXhpb3MnO1xuXG4vLyBVUkwgY8ahIHPhu58gY+G7p2EgQVBJIGJhY2tlbmRcbmNvbnN0IEFQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGknO1xuXG4vLyBU4bqhbyBheGlvcyBpbnN0YW5jZSB24bubaSBj4bqldSBow6xuaCBt4bq3YyDEkeG7i25oXG5jb25zdCBhcGlDbGllbnQgPSBheGlvcy5jcmVhdGUoe1xuICBiYXNlVVJMOiBBUElfQkFTRV9VUkwsXG4gIGhlYWRlcnM6IHtcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICB9LFxuICB0aW1lb3V0OiAzMDAwMCwgLy8gVGltZW91dCAzMCBnacOieVxufSk7XG5cbi8vIEludGVyY2VwdG9ycyDEkeG7gyB44butIGzDvSBhdXRoZW50aWNhdGlvbiB0b2tlblxuYXBpQ2xpZW50LmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShcbiAgKGNvbmZpZykgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FkbWluX3Rva2VuJyk7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYEJlYXJlciAke3Rva2VufWA7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGBH4buNaSBBUEk6ICR7Y29uZmlnLm1ldGhvZD8udG9VcHBlckNhc2UoKX0gJHtjb25maWcudXJsfWAsIGNvbmZpZy5wYXJhbXMgfHwgY29uZmlnLmRhdGEpO1xuICAgIHJldHVybiBjb25maWc7XG4gIH0sXG4gIChlcnJvcikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIHJlcXVlc3Q6JywgZXJyb3IubWVzc2FnZSk7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgfVxuKTtcblxuLy8gSW50ZXJjZXB0b3JzIMSR4buDIHjhu60gbMO9IHRva2VuIGjhur90IGjhuqFuXG5hcGlDbGllbnQuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShcbiAgKHJlc3BvbnNlKSA9PiB7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9LFxuICBhc3luYyAoZXJyb3I6IEF4aW9zRXJyb3IpID0+IHtcbiAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBr4bq/dCBu4buRaSB04bubaSBzZXJ2ZXI6JywgZXJyb3IubWVzc2FnZSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdLaMO0bmcgdGjhu4Mga+G6v3QgbuG7kWkgdOG7m2kgc2VydmVyLiBWdWkgbMOybmcga2nhu4NtIHRyYSBs4bqhaSBr4bq/dCBu4buRaSBt4bqhbmcuJykpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBvcmlnaW5hbFJlcXVlc3QgPSBlcnJvci5jb25maWc7XG4gICAgaWYgKCFvcmlnaW5hbFJlcXVlc3QpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfVxuICAgIFxuICAgIC8vIE7hur91IGzhu5dpIGzDoCA0MDEgdsOgIGNoxrBhIHRo4butIHJlZnJlc2ggdG9rZW5cbiAgICBpZiAoZXJyb3IucmVzcG9uc2U/LnN0YXR1cyA9PT0gNDAxICYmICEob3JpZ2luYWxSZXF1ZXN0IGFzIGFueSkuX3JldHJ5KSB7XG4gICAgICAob3JpZ2luYWxSZXF1ZXN0IGFzIGFueSkuX3JldHJ5ID0gdHJ1ZTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gUmVmcmVzaCB0b2tlblxuICAgICAgICBjb25zdCByZWZyZXNoVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWRtaW5fcmVmcmVzaF90b2tlbicpO1xuICAgICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICAgIC8vIE7hur91IGtow7RuZyBjw7MgcmVmcmVzaCB0b2tlbiwgY2h1eeG7g24gdOG7m2kgdHJhbmcgbG9naW4gdGhheSB2w6wgxJHEg25nIHh14bqldCB0cuG7sWMgdGnhur9wXG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luJztcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdQaGnDqm4gbMOgbSB2aeG7h2MgxJHDoyBo4bq/dCBo4bqhbi4gVnVpIGzDsm5nIMSRxINuZyBuaOG6rXAgbOG6oWkuJykpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX0JBU0VfVVJMfS91c2Vycy9yZWZyZXNoLXRva2VuYCwge1xuICAgICAgICAgIHJlZnJlc2hUb2tlblxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHsgdG9rZW4gfSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhZG1pbl90b2tlbicsIHRva2VuKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEPhuq1wIG5o4bqtdCB0b2tlbiB0cm9uZyBoZWFkZXIgdsOgIHRo4butIGzhuqFpIHJlcXVlc3RcbiAgICAgICAgb3JpZ2luYWxSZXF1ZXN0LmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuICAgICAgICByZXR1cm4gYXhpb3Mob3JpZ2luYWxSZXF1ZXN0KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBO4bq/dSByZWZyZXNoIHRva2VuIHRo4bqldCBi4bqhaSwgY2h1eeG7g24gdOG7m2kgdHJhbmcgbG9naW5cbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luJztcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignUGhpw6puIGzDoG0gdmnhu4djIMSRw6MgaOG6v3QgaOG6oW4uIFZ1aSBsw7JuZyDEkcSDbmcgbmjhuq1wIGzhuqFpLicpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gWOG7rSBsw70gY8OhYyBs4buXaSBIVFRQIGtow6FjXG4gICAgY29uc3QgZXJyb3JEYXRhID0gZXJyb3IucmVzcG9uc2U/LmRhdGE7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gdHlwZW9mIGVycm9yRGF0YSA9PT0gJ29iamVjdCcgJiYgZXJyb3JEYXRhICE9PSBudWxsIFxuICAgICAgICAgICAgICAgICAgICAgICAgID8gKChlcnJvckRhdGEgYXMgYW55KS5tZXNzYWdlIHx8ICfEkMOjIHjhuqN5IHJhIGzhu5dpIGtow7RuZyB4w6FjIMSR4buLbmgnKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICA6ICfEkMOjIHjhuqN5IHJhIGzhu5dpIGtow7RuZyB4w6FjIMSR4buLbmgnO1xuICAgIGNvbnNvbGUuZXJyb3IoYEzhu5dpIEFQSSAoJHtlcnJvci5yZXNwb25zZT8uc3RhdHVzfSk6YCwgZXJyb3JNZXNzYWdlKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICB9XG4pO1xuXG4vLyBIw6BtIMSRxINuZyB4deG6pXRcbmNvbnN0IGxvZ291dCA9ICgpID0+IHtcbiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FkbWluX3Rva2VuJyk7XG4gIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhZG1pbl9yZWZyZXNoX3Rva2VuJyk7XG4gIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhZG1pbl91c2VyJyk7XG4gIFxuICAvLyBDaHV54buDbiBoxrDhu5tuZyDEkeG6v24gdHJhbmcgxJHEg25nIG5o4bqtcFxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvbG9naW4nO1xuICB9XG59O1xuXG4vLyBBUEkgZW5kcG9pbnRzIGNobyBxdeG6o24gbMO9IG5nxrDhu51pIGTDuW5nXG5leHBvcnQgY29uc3QgdXNlckFwaSA9IHtcbiAgLy8gxJDEg25nIG5o4bqtcCBhZG1pblxuICBsb2dpbjogYXN5bmMgKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQucG9zdCgnL3VzZXJzL2FkbWluLWxvZ2luJywgeyBlbWFpbCwgcGFzc3dvcmQgfSk7XG4gICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgIFxuICAgICAgLy8gTMawdSB0b2tlbiBuZ2F5IHNhdSBraGkgxJHEg25nIG5o4bqtcCB0aMOgbmggY8O0bmdcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhZG1pbl90b2tlbicsIGRhdGEudG9rZW4pO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FkbWluX3JlZnJlc2hfdG9rZW4nLCBkYXRhLnJlZnJlc2hUb2tlbik7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWRtaW5fdXNlcicsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgX2lkOiBkYXRhLl9pZCxcbiAgICAgICAgZnVsbF9uYW1lOiBkYXRhLmZ1bGxfbmFtZSxcbiAgICAgICAgZW1haWw6IGRhdGEuZW1haWwsXG4gICAgICAgIHJvbGU6IGRhdGEucm9sZVxuICAgICAgfSkpO1xuICAgICAgXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTOG7l2kgxJHEg25nIG5o4bqtcDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0sXG4gIFxuICAvLyBM4bqleSBjaGkgdGnhur90IG5nxrDhu51pIGTDuW5nIHRoZW8gSURcbiAgZ2V0VXNlckRldGFpbHM6IGFzeW5jICh1c2VySWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5nZXQoYC91c2Vycy9hZG1pbi91c2VyLyR7dXNlcklkfWApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSBs4bqleSB0aMO0bmcgdGluIGNoaSB0aeG6v3QgbmfGsOG7nWkgZMO5bmc6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9LFxuICBcbiAgLy8gTOG6pXkgZGFuaCBzw6FjaCBwaMawxqFuZyB0aeG7h24gY+G7p2EgbmfGsOG7nWkgZMO5bmdcbiAgZ2V0VXNlclZlaGljbGVzOiBhc3luYyAodXNlcklkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQuZ2V0KGAvdmVoaWNsZXMvdXNlci8ke3VzZXJJZH1gKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgbOG6pXkgZGFuaCBzw6FjaCBwaMawxqFuZyB0aeG7h24gY+G7p2EgbmfGsOG7nWkgZMO5bmc6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9LFxuICBcbiAgLy8gTOG6pXkgZGFuaCBzw6FjaCBuZ8aw4budaSBkw7luZ1xuICBnZXRVc2VyczogYXN5bmMgKHBhcmFtczoge1xuICAgIHNlYXJjaD86IHN0cmluZztcbiAgICByb2xlPzogc3RyaW5nO1xuICAgIGlzX2xvY2tlZD86IGJvb2xlYW47XG4gICAga3ljX3N0YXR1cz86IHN0cmluZztcbiAgICBwYWdlPzogbnVtYmVyO1xuICAgIGxpbWl0PzogbnVtYmVyO1xuICB9KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFThuqFvIMSR4buRaSB0xrDhu6NuZyB0aGFtIHPhu5EgdMawxqFuZyB0aMOtY2ggduG7m2kgYmFja2VuZFxuICAgICAgY29uc3QgYXBpUGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge1xuICAgICAgICBzZWFyY2g6IHBhcmFtcy5zZWFyY2ggfHwgJycsXG4gICAgICAgIHBhZ2U6IHBhcmFtcy5wYWdlIHx8IDEsXG4gICAgICAgIGxpbWl0OiBwYXJhbXMubGltaXQgfHwgMTBcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIFjhu60gbMO9IHRoYW0gc+G7kSByb2xlXG4gICAgICBpZiAocGFyYW1zLnJvbGUgJiYgcGFyYW1zLnJvbGUgIT09ICdhbGwnKSB7XG4gICAgICAgIGFwaVBhcmFtcy5yb2xlID0gcGFyYW1zLnJvbGU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFjhu60gbMO9IHRoYW0gc+G7kSBpc19sb2NrZWRcbiAgICAgIGlmIChwYXJhbXMuaXNfbG9ja2VkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXBpUGFyYW1zLmlzX2xvY2tlZCA9IHBhcmFtcy5pc19sb2NrZWQ7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFjhu60gbMO9IHRoYW0gc+G7kSBreWNfc3RhdHVzXG4gICAgICBpZiAocGFyYW1zLmt5Y19zdGF0dXMgJiYgcGFyYW1zLmt5Y19zdGF0dXMgIT09ICdhbGwnKSB7XG4gICAgICAgIGFwaVBhcmFtcy5reWNfc3RhdHVzID0gcGFyYW1zLmt5Y19zdGF0dXM7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LmdldCgnL3VzZXJzJywgeyBwYXJhbXM6IGFwaVBhcmFtcyB9KTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBs4bqleSBkYW5oIHPDoWNoIG5nxrDhu51pIGTDuW5nOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSxcbiAgXG4gIC8vIEtow7NhL23hu58ga2jDs2EgdMOgaSBraG/huqNuIG5nxrDhu51pIGTDuW5nXG4gIHRvZ2dsZVVzZXJMb2NrOiBhc3luYyAodXNlcklkOiBzdHJpbmcsIGlzTG9ja2VkOiBib29sZWFuKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LnB1dCgnL3VzZXJzL3RvZ2dsZS1sb2NrJywge1xuICAgICAgICB1c2VySWQsXG4gICAgICAgIGlzTG9ja2VkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgdGhheSDEkeG7lWkgdHLhuqFuZyB0aMOhaSBraMOzYSBuZ8aw4budaSBkw7luZzonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0sXG4gIFxuICAvLyBD4bqtcCBuaOG6rXQgdHLhuqFuZyB0aMOhaSBLWUNcbiAgdXBkYXRlS3ljU3RhdHVzOiBhc3luYyAodXNlcklkOiBzdHJpbmcsIGt5Y19zdGF0dXM6ICdwZW5kaW5nJyB8ICd2ZXJpZmllZCcgfCAncmVqZWN0ZWQnKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LnB1dCgnL3VzZXJzL3VwZGF0ZS1reWMtc3RhdHVzJywge1xuICAgICAgICB1c2VySWQsXG4gICAgICAgIGt5Y1N0YXR1czoga3ljX3N0YXR1cyAgLy8gxJDhu5VpIHThu6sga3ljX3N0YXR1cyB0aMOgbmgga3ljU3RhdHVzIMSR4buDIHBow7kgaOG7o3AgduG7m2kgQVBJIGJhY2tlbmRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSBj4bqtcCBuaOG6rXQgdHLhuqFuZyB0aMOhaSBLWUM6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG59O1xuXG4vLyBBUEkgZW5kcG9pbnRzIGNobyBxdeG6o24gbMO9IHBoxrDGoW5nIHRp4buHblxuZXhwb3J0IGNvbnN0IHZlaGljbGVBcGkgPSB7XG4gIC8vIEzhuqV5IGRhbmggc8OhY2ggcGjGsMahbmcgdGnhu4duIGNobyBhZG1pblxuICBnZXRWZWhpY2xlczogYXN5bmMgKHBhcmFtczoge1xuICAgIHNlYXJjaD86IHN0cmluZztcbiAgICB0eXBlPzogc3RyaW5nO1xuICAgIHN0YXR1cz86IHN0cmluZztcbiAgICBzZWxsZXI/OiBzdHJpbmc7XG4gICAgcGFnZT86IG51bWJlcjtcbiAgICBsaW1pdD86IG51bWJlcjtcbiAgfSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBU4bqhbyDEkeG7kWkgdMaw4bujbmcgdGhhbSBz4buRIHTGsMahbmcgdGjDrWNoIHbhu5tpIGJhY2tlbmRcbiAgICAgIGNvbnN0IGFwaVBhcmFtczogUmVjb3JkPHN0cmluZywgYW55PiA9IHtcbiAgICAgICAgcGFnZTogcGFyYW1zLnBhZ2UgfHwgMSxcbiAgICAgICAgbGltaXQ6IHBhcmFtcy5saW1pdCB8fCAxMFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gWOG7rSBsw70gdGhhbSBz4buRIHTDrG0ga2nhur9tXG4gICAgICBpZiAocGFyYW1zLnNlYXJjaCkge1xuICAgICAgICBhcGlQYXJhbXMuc2VhcmNoID0gcGFyYW1zLnNlYXJjaDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gWOG7rSBsw70gdGhhbSBz4buRIGxv4bqhaSB4ZVxuICAgICAgaWYgKHBhcmFtcy50eXBlICYmIHBhcmFtcy50eXBlICE9PSAnYWxsJykge1xuICAgICAgICBhcGlQYXJhbXMudHlwZSA9IHBhcmFtcy50eXBlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBY4butIGzDvSB0aGFtIHPhu5EgdHLhuqFuZyB0aMOhaVxuICAgICAgaWYgKHBhcmFtcy5zdGF0dXMgJiYgcGFyYW1zLnN0YXR1cyAhPT0gJ2FsbCcpIHtcbiAgICAgICAgYXBpUGFyYW1zLnN0YXR1cyA9IHBhcmFtcy5zdGF0dXM7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFjhu60gbMO9IHRoYW0gc+G7kSBuZ8aw4budaSBiw6FuXG4gICAgICBpZiAocGFyYW1zLnNlbGxlciAmJiBwYXJhbXMuc2VsbGVyICE9PSAnYWxsJykge1xuICAgICAgICBhcGlQYXJhbXMuc2VsbGVyID0gcGFyYW1zLnNlbGxlcjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQuZ2V0KCcvdmVoaWNsZXMvYWRtaW4nLCB7IHBhcmFtczogYXBpUGFyYW1zIH0pO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGzhuqV5IGRhbmggc8OhY2ggcGjGsMahbmcgdGnhu4duOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSxcbiAgXG4gIC8vIEPhuq1wIG5o4bqtdCB0cuG6oW5nIHRow6FpIHBoxrDGoW5nIHRp4buHblxuICB1cGRhdGVWZWhpY2xlU3RhdHVzOiBhc3luYyAodmVoaWNsZUlkOiBzdHJpbmcsIHN0YXR1czogJ3BlbmRpbmcnIHwgJ2FwcHJvdmVkJyB8ICdyZWplY3RlZCcgfCAnc29sZCcgfCAnaGlkZGVuJykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5wdXQoYC92ZWhpY2xlcy9hZG1pbi8ke3ZlaGljbGVJZH0vc3RhdHVzYCwgeyBzdGF0dXMgfSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTOG7l2kga2hpIGPhuq1wIG5o4bqtdCB0cuG6oW5nIHRow6FpIHBoxrDGoW5nIHRp4buHbjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0sXG4gIFxuICAvLyBM4bqleSBjaGkgdGnhur90IHBoxrDGoW5nIHRp4buHblxuICBnZXRWZWhpY2xlRGV0YWlsczogYXN5bmMgKHZlaGljbGVJZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LmdldChgL3ZlaGljbGVzLyR7dmVoaWNsZUlkfWApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSBs4bqleSBjaGkgdGnhur90IHBoxrDGoW5nIHRp4buHbjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0sXG4gIFxuICAvLyBYw7NhIHBoxrDGoW5nIHRp4buHblxuICBkZWxldGVWZWhpY2xlOiBhc3luYyAodmVoaWNsZUlkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQuZGVsZXRlKGAvdmVoaWNsZXMvJHt2ZWhpY2xlSWR9YCk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTOG7l2kga2hpIHjDs2EgcGjGsMahbmcgdGnhu4duOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IGFwaUNsaWVudDsgIl0sIm5hbWVzIjpbImF4aW9zIiwiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJhcGlDbGllbnQiLCJjcmVhdGUiLCJiYXNlVVJMIiwiaGVhZGVycyIsInRpbWVvdXQiLCJpbnRlcmNlcHRvcnMiLCJyZXF1ZXN0IiwidXNlIiwiY29uZmlnIiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiQXV0aG9yaXphdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJtZXRob2QiLCJ0b1VwcGVyQ2FzZSIsInVybCIsInBhcmFtcyIsImRhdGEiLCJlcnJvciIsIm1lc3NhZ2UiLCJQcm9taXNlIiwicmVqZWN0IiwicmVzcG9uc2UiLCJFcnJvciIsIm9yaWdpbmFsUmVxdWVzdCIsInN0YXR1cyIsIl9yZXRyeSIsInJlZnJlc2hUb2tlbiIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInBvc3QiLCJzZXRJdGVtIiwiZXJyIiwiZXJyb3JEYXRhIiwiZXJyb3JNZXNzYWdlIiwibG9nb3V0IiwicmVtb3ZlSXRlbSIsInVzZXJBcGkiLCJsb2dpbiIsImVtYWlsIiwicGFzc3dvcmQiLCJKU09OIiwic3RyaW5naWZ5IiwiX2lkIiwiZnVsbF9uYW1lIiwicm9sZSIsImdldFVzZXJEZXRhaWxzIiwidXNlcklkIiwiZ2V0IiwiZ2V0VXNlclZlaGljbGVzIiwiZ2V0VXNlcnMiLCJhcGlQYXJhbXMiLCJzZWFyY2giLCJwYWdlIiwibGltaXQiLCJpc19sb2NrZWQiLCJ1bmRlZmluZWQiLCJreWNfc3RhdHVzIiwidG9nZ2xlVXNlckxvY2siLCJpc0xvY2tlZCIsInB1dCIsInVwZGF0ZUt5Y1N0YXR1cyIsImt5Y1N0YXR1cyIsInZlaGljbGVBcGkiLCJnZXRWZWhpY2xlcyIsInR5cGUiLCJzZWxsZXIiLCJ1cGRhdGVWZWhpY2xlU3RhdHVzIiwidmVoaWNsZUlkIiwiZ2V0VmVoaWNsZURldGFpbHMiLCJkZWxldGVWZWhpY2xlIiwiZGVsZXRlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/api.ts\n"));

/***/ })

});