"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(admin)/users/page",{

/***/ "(app-pages-browser)/./src/lib/api.ts":
/*!************************!*\
  !*** ./src/lib/api.ts ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   userApi: () => (/* binding */ userApi),\n/* harmony export */   vehicleApi: () => (/* binding */ vehicleApi)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(app-pages-browser)/../../node_modules/axios/lib/axios.js\");\n\n// URL cơ sở của API backend\nconst API_BASE_URL = \"http://localhost:5000/api\" || 0;\n// Tạo axios instance với cấu hình mặc định\nconst apiClient = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n    baseURL: API_BASE_URL,\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    timeout: 30000\n});\n// Interceptors để xử lý authentication token\napiClient.interceptors.request.use((config)=>{\n    var _config_method;\n    const token = localStorage.getItem('admin_token');\n    if (token) {\n        config.headers.Authorization = \"Bearer \".concat(token);\n    }\n    console.log(\"Gọi API: \".concat((_config_method = config.method) === null || _config_method === void 0 ? void 0 : _config_method.toUpperCase(), \" \").concat(config.url), config.params || config.data);\n    return config;\n}, (error)=>{\n    console.error('Lỗi request:', error.message);\n    return Promise.reject(error);\n});\n// Interceptors để xử lý token hết hạn\napiClient.interceptors.response.use((response)=>{\n    return response;\n}, async (error)=>{\n    var _error_response, _error_response1, _error_response2;\n    if (!error.response) {\n        console.error('Lỗi kết nối tới server:', error.message);\n        return Promise.reject(new Error('Không thể kết nối tới server. Vui lòng kiểm tra lại kết nối mạng.'));\n    }\n    const originalRequest = error.config;\n    if (!originalRequest) {\n        return Promise.reject(error);\n    }\n    // Nếu lỗi là 401 và chưa thử refresh token\n    if (((_error_response = error.response) === null || _error_response === void 0 ? void 0 : _error_response.status) === 401 && !originalRequest._retry) {\n        originalRequest._retry = true;\n        try {\n            // Refresh token\n            const refreshToken = localStorage.getItem('admin_refresh_token');\n            if (!refreshToken) {\n                // Nếu không có refresh token, chuyển tới trang login thay vì đăng xuất trực tiếp\n                window.location.href = '/login';\n                return Promise.reject(new Error('Phiên làm việc đã hết hạn. Vui lòng đăng nhập lại.'));\n            }\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"\".concat(API_BASE_URL, \"/users/refresh-token\"), {\n                refreshToken\n            });\n            const { token } = response.data;\n            localStorage.setItem('admin_token', token);\n            // Cập nhật token trong header và thử lại request\n            originalRequest.headers.Authorization = \"Bearer \".concat(token);\n            return (0,axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(originalRequest);\n        } catch (err) {\n            // Nếu refresh token thất bại, chuyển tới trang login\n            window.location.href = '/login';\n            return Promise.reject(new Error('Phiên làm việc đã hết hạn. Vui lòng đăng nhập lại.'));\n        }\n    }\n    // Xử lý các lỗi HTTP khác\n    const errorData = (_error_response1 = error.response) === null || _error_response1 === void 0 ? void 0 : _error_response1.data;\n    const errorMessage = typeof errorData === 'object' && errorData !== null ? errorData.message || 'Đã xảy ra lỗi không xác định' : 'Đã xảy ra lỗi không xác định';\n    console.error(\"Lỗi API (\".concat((_error_response2 = error.response) === null || _error_response2 === void 0 ? void 0 : _error_response2.status, \"):\"), errorMessage);\n    return Promise.reject(error);\n});\n// Hàm đăng xuất\nconst logout = ()=>{\n    localStorage.removeItem('admin_token');\n    localStorage.removeItem('admin_refresh_token');\n    localStorage.removeItem('admin_user');\n    // Chuyển hướng đến trang đăng nhập\n    if (true) {\n        window.location.href = '/login';\n    }\n};\n// API endpoints cho quản lý người dùng\nconst userApi = {\n    // Đăng nhập admin\n    login: async (email, password)=>{\n        try {\n            const response = await apiClient.post('/users/admin-login', {\n                email,\n                password\n            });\n            const data = response.data;\n            // Lưu token ngay sau khi đăng nhập thành công\n            localStorage.setItem('admin_token', data.token);\n            localStorage.setItem('admin_refresh_token', data.refreshToken);\n            localStorage.setItem('admin_user', JSON.stringify({\n                _id: data._id,\n                full_name: data.full_name,\n                email: data.email,\n                role: data.role\n            }));\n            return data;\n        } catch (error) {\n            console.error('Lỗi đăng nhập:', error);\n            throw error;\n        }\n    },\n    // Lấy chi tiết người dùng theo ID\n    getUserDetails: async (userId)=>{\n        try {\n            const response = await apiClient.get(\"/users/admin/user/\".concat(userId));\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi lấy thông tin chi tiết người dùng:', error);\n            throw error;\n        }\n    },\n    // Lấy danh sách phương tiện của người dùng\n    getUserVehicles: async (userId)=>{\n        try {\n            const response = await apiClient.get(\"/vehicles/user/\".concat(userId));\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi lấy danh sách phương tiện của người dùng:', error);\n            throw error;\n        }\n    },\n    // Lấy danh sách người dùng\n    getUsers: async (params)=>{\n        try {\n            // Tạo đối tượng tham số tương thích với backend\n            const apiParams = {\n                search: params.search || '',\n                page: params.page || 1,\n                limit: params.limit || 10\n            };\n            // Xử lý tham số role\n            if (params.role && params.role !== 'all') {\n                apiParams.role = params.role;\n            }\n            // Xử lý tham số is_locked\n            if (params.is_locked !== undefined) {\n                apiParams.is_locked = params.is_locked;\n            }\n            // Xử lý tham số kyc_status\n            if (params.kyc_status && params.kyc_status !== 'all') {\n                apiParams.kyc_status = params.kyc_status;\n            }\n            const response = await apiClient.get('/users', {\n                params: apiParams\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi lấy danh sách người dùng:', error);\n            throw error;\n        }\n    },\n    // Khóa/mở khóa tài khoản người dùng\n    toggleUserLock: async (userId, isLocked)=>{\n        try {\n            const response = await apiClient.put('/users/toggle-lock', {\n                userId,\n                isLocked\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi thay đổi trạng thái khóa người dùng:', error);\n            throw error;\n        }\n    },\n    // Cập nhật trạng thái KYC\n    updateKycStatus: async (userId, kyc_status)=>{\n        try {\n            const response = await apiClient.post('/users/update-kyc-status', {\n                userId,\n                kycStatus: kyc_status // Đổi từ kyc_status thành kycStatus để phù hợp với API backend\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi cập nhật trạng thái KYC:', error);\n            throw error;\n        }\n    }\n};\n// API endpoints cho quản lý phương tiện\nconst vehicleApi = {\n    // Lấy danh sách phương tiện cho admin\n    getVehicles: async (params)=>{\n        try {\n            // Tạo đối tượng tham số tương thích với backend\n            const apiParams = {\n                page: params.page || 1,\n                limit: params.limit || 10\n            };\n            // Xử lý tham số tìm kiếm\n            if (params.search) {\n                apiParams.search = params.search;\n            }\n            // Xử lý tham số loại xe\n            if (params.type && params.type !== 'all') {\n                apiParams.type = params.type;\n            }\n            // Xử lý tham số trạng thái\n            if (params.status && params.status !== 'all') {\n                apiParams.status = params.status;\n            }\n            // Xử lý tham số người bán\n            if (params.seller && params.seller !== 'all') {\n                apiParams.seller = params.seller;\n            }\n            const response = await apiClient.get('/vehicles/admin', {\n                params: apiParams\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi lấy danh sách phương tiện:', error);\n            throw error;\n        }\n    },\n    // Cập nhật trạng thái phương tiện\n    updateVehicleStatus: async (vehicleId, status)=>{\n        try {\n            const response = await apiClient.put(\"/vehicles/admin/\".concat(vehicleId, \"/status\"), {\n                status\n            });\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi cập nhật trạng thái phương tiện:', error);\n            throw error;\n        }\n    },\n    // Lấy chi tiết phương tiện\n    getVehicleDetails: async (vehicleId)=>{\n        try {\n            const response = await apiClient.get(\"/vehicles/\".concat(vehicleId));\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi lấy chi tiết phương tiện:', error);\n            throw error;\n        }\n    },\n    // Xóa phương tiện\n    deleteVehicle: async (vehicleId)=>{\n        try {\n            const response = await apiClient.delete(\"/vehicles/\".concat(vehicleId));\n            return response.data;\n        } catch (error) {\n            console.error('Lỗi khi xóa phương tiện:', error);\n            throw error;\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (apiClient);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQVZIO1lBQ3JELE9BQU8vQyxTQUFTTCxJQUFJO1FBQ3RCLEVBQUUsT0FBT0MsT0FBTztZQUNkUCxRQUFRTyxLQUFLLENBQUMsNEJBQTRCQTtZQUMxQyxNQUFNQTtRQUNSO0lBQ0Y7QUFDRixFQUFFO0FBQ0YsaUVBQWVwQixTQUFTQSxFQUFDIiwic291cmNlcyI6WyJEOlxcdXNlZC1jYXItbWFya2V0cGxhY2VcXHBhY2thZ2VzXFxhZG1pblxcc3JjXFxsaWJcXGFwaS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MsIHsgQXhpb3NFcnJvciB9IGZyb20gJ2F4aW9zJztcblxuLy8gVVJMIGPGoSBz4bufIGPhu6dhIEFQSSBiYWNrZW5kXG5jb25zdCBBUElfQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpJztcblxuLy8gVOG6oW8gYXhpb3MgaW5zdGFuY2UgduG7m2kgY+G6pXUgaMOsbmggbeG6t2MgxJHhu4tuaFxuY29uc3QgYXBpQ2xpZW50ID0gYXhpb3MuY3JlYXRlKHtcbiAgYmFzZVVSTDogQVBJX0JBU0VfVVJMLFxuICBoZWFkZXJzOiB7XG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgfSxcbiAgdGltZW91dDogMzAwMDAsIC8vIFRpbWVvdXQgMzAgZ2nDonlcbn0pO1xuXG4vLyBJbnRlcmNlcHRvcnMgxJHhu4MgeOG7rSBsw70gYXV0aGVudGljYXRpb24gdG9rZW5cbmFwaUNsaWVudC5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoXG4gIChjb25maWcpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhZG1pbl90b2tlbicpO1xuICAgIGlmICh0b2tlbikge1xuICAgICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhgR+G7jWkgQVBJOiAke2NvbmZpZy5tZXRob2Q/LnRvVXBwZXJDYXNlKCl9ICR7Y29uZmlnLnVybH1gLCBjb25maWcucGFyYW1zIHx8IGNvbmZpZy5kYXRhKTtcbiAgICByZXR1cm4gY29uZmlnO1xuICB9LFxuICAoZXJyb3IpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKCdM4buXaSByZXF1ZXN0OicsIGVycm9yLm1lc3NhZ2UpO1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gIH1cbik7XG5cbi8vIEludGVyY2VwdG9ycyDEkeG7gyB44butIGzDvSB0b2tlbiBo4bq/dCBo4bqhblxuYXBpQ2xpZW50LmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoXG4gIChyZXNwb25zZSkgPT4ge1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSxcbiAgYXN5bmMgKGVycm9yOiBBeGlvc0Vycm9yKSA9PiB7XG4gICAgaWYgKCFlcnJvci5yZXNwb25zZSkge1xuICAgICAgY29uc29sZS5lcnJvcignTOG7l2kga+G6v3QgbuG7kWkgdOG7m2kgc2VydmVyOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignS2jDtG5nIHRo4buDIGvhur90IG7hu5FpIHThu5tpIHNlcnZlci4gVnVpIGzDsm5nIGtp4buDbSB0cmEgbOG6oWkga+G6v3QgbuG7kWkgbeG6oW5nLicpKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgb3JpZ2luYWxSZXF1ZXN0ID0gZXJyb3IuY29uZmlnO1xuICAgIGlmICghb3JpZ2luYWxSZXF1ZXN0KSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgICBcbiAgICAvLyBO4bq/dSBs4buXaSBsw6AgNDAxIHbDoCBjaMawYSB0aOG7rSByZWZyZXNoIHRva2VuXG4gICAgaWYgKGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMSAmJiAhKG9yaWdpbmFsUmVxdWVzdCBhcyBhbnkpLl9yZXRyeSkge1xuICAgICAgKG9yaWdpbmFsUmVxdWVzdCBhcyBhbnkpLl9yZXRyeSA9IHRydWU7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFJlZnJlc2ggdG9rZW5cbiAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FkbWluX3JlZnJlc2hfdG9rZW4nKTtcbiAgICAgICAgaWYgKCFyZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICAvLyBO4bq/dSBraMO0bmcgY8OzIHJlZnJlc2ggdG9rZW4sIGNodXnhu4NuIHThu5tpIHRyYW5nIGxvZ2luIHRoYXkgdsOsIMSRxINuZyB4deG6pXQgdHLhu7FjIHRp4bq/cFxuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbic7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignUGhpw6puIGzDoG0gdmnhu4djIMSRw6MgaOG6v3QgaOG6oW4uIFZ1aSBsw7JuZyDEkcSDbmcgbmjhuq1wIGzhuqFpLicpKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9CQVNFX1VSTH0vdXNlcnMvcmVmcmVzaC10b2tlbmAsIHtcbiAgICAgICAgICByZWZyZXNoVG9rZW5cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB7IHRva2VuIH0gPSByZXNwb25zZS5kYXRhO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWRtaW5fdG9rZW4nLCB0b2tlbik7XG4gICAgICAgIFxuICAgICAgICAvLyBD4bqtcCBuaOG6rXQgdG9rZW4gdHJvbmcgaGVhZGVyIHbDoCB0aOG7rSBs4bqhaSByZXF1ZXN0XG4gICAgICAgIG9yaWdpbmFsUmVxdWVzdC5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBgQmVhcmVyICR7dG9rZW59YDtcbiAgICAgICAgcmV0dXJuIGF4aW9zKG9yaWdpbmFsUmVxdWVzdCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gTuG6v3UgcmVmcmVzaCB0b2tlbiB0aOG6pXQgYuG6oWksIGNodXnhu4NuIHThu5tpIHRyYW5nIGxvZ2luXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbic7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1BoacOqbiBsw6BtIHZp4buHYyDEkcOjIGjhur90IGjhuqFuLiBWdWkgbMOybmcgxJHEg25nIG5o4bqtcCBs4bqhaS4nKSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFjhu60gbMO9IGPDoWMgbOG7l2kgSFRUUCBraMOhY1xuICAgIGNvbnN0IGVycm9yRGF0YSA9IGVycm9yLnJlc3BvbnNlPy5kYXRhO1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHR5cGVvZiBlcnJvckRhdGEgPT09ICdvYmplY3QnICYmIGVycm9yRGF0YSAhPT0gbnVsbCBcbiAgICAgICAgICAgICAgICAgICAgICAgICA/ICgoZXJyb3JEYXRhIGFzIGFueSkubWVzc2FnZSB8fCAnxJDDoyB44bqjeSByYSBs4buXaSBraMO0bmcgeMOhYyDEkeG7i25oJykgXG4gICAgICAgICAgICAgICAgICAgICAgICAgOiAnxJDDoyB44bqjeSByYSBs4buXaSBraMO0bmcgeMOhYyDEkeG7i25oJztcbiAgICBjb25zb2xlLmVycm9yKGBM4buXaSBBUEkgKCR7ZXJyb3IucmVzcG9uc2U/LnN0YXR1c30pOmAsIGVycm9yTWVzc2FnZSk7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgfVxuKTtcblxuLy8gSMOgbSDEkcSDbmcgeHXhuqV0XG5jb25zdCBsb2dvdXQgPSAoKSA9PiB7XG4gIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhZG1pbl90b2tlbicpO1xuICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYWRtaW5fcmVmcmVzaF90b2tlbicpO1xuICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYWRtaW5fdXNlcicpO1xuICBcbiAgLy8gQ2h1eeG7g24gaMaw4bubbmcgxJHhur9uIHRyYW5nIMSRxINuZyBuaOG6rXBcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luJztcbiAgfVxufTtcblxuLy8gQVBJIGVuZHBvaW50cyBjaG8gcXXhuqNuIGzDvSBuZ8aw4budaSBkw7luZ1xuZXhwb3J0IGNvbnN0IHVzZXJBcGkgPSB7XG4gIC8vIMSQxINuZyBuaOG6rXAgYWRtaW5cbiAgbG9naW46IGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LnBvc3QoJy91c2Vycy9hZG1pbi1sb2dpbicsIHsgZW1haWwsIHBhc3N3b3JkIH0pO1xuICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICBcbiAgICAgIC8vIEzGsHUgdG9rZW4gbmdheSBzYXUga2hpIMSRxINuZyBuaOG6rXAgdGjDoG5oIGPDtG5nXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWRtaW5fdG9rZW4nLCBkYXRhLnRva2VuKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhZG1pbl9yZWZyZXNoX3Rva2VuJywgZGF0YS5yZWZyZXNoVG9rZW4pO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FkbWluX3VzZXInLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIF9pZDogZGF0YS5faWQsXG4gICAgICAgIGZ1bGxfbmFtZTogZGF0YS5mdWxsX25hbWUsXG4gICAgICAgIGVtYWlsOiBkYXRhLmVtYWlsLFxuICAgICAgICByb2xlOiBkYXRhLnJvbGVcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIMSRxINuZyBuaOG6rXA6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9LFxuICBcbiAgLy8gTOG6pXkgY2hpIHRp4bq/dCBuZ8aw4budaSBkw7luZyB0aGVvIElEXG4gIGdldFVzZXJEZXRhaWxzOiBhc3luYyAodXNlcklkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQuZ2V0KGAvdXNlcnMvYWRtaW4vdXNlci8ke3VzZXJJZH1gKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgbOG6pXkgdGjDtG5nIHRpbiBjaGkgdGnhur90IG5nxrDhu51pIGTDuW5nOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSxcbiAgXG4gIC8vIEzhuqV5IGRhbmggc8OhY2ggcGjGsMahbmcgdGnhu4duIGPhu6dhIG5nxrDhu51pIGTDuW5nXG4gIGdldFVzZXJWZWhpY2xlczogYXN5bmMgKHVzZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LmdldChgL3ZlaGljbGVzL3VzZXIvJHt1c2VySWR9YCk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTOG7l2kga2hpIGzhuqV5IGRhbmggc8OhY2ggcGjGsMahbmcgdGnhu4duIGPhu6dhIG5nxrDhu51pIGTDuW5nOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSxcbiAgXG4gIC8vIEzhuqV5IGRhbmggc8OhY2ggbmfGsOG7nWkgZMO5bmdcbiAgZ2V0VXNlcnM6IGFzeW5jIChwYXJhbXM6IHtcbiAgICBzZWFyY2g/OiBzdHJpbmc7XG4gICAgcm9sZT86IHN0cmluZztcbiAgICBpc19sb2NrZWQ/OiBib29sZWFuO1xuICAgIGt5Y19zdGF0dXM/OiBzdHJpbmc7XG4gICAgcGFnZT86IG51bWJlcjtcbiAgICBsaW1pdD86IG51bWJlcjtcbiAgfSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBU4bqhbyDEkeG7kWkgdMaw4bujbmcgdGhhbSBz4buRIHTGsMahbmcgdGjDrWNoIHbhu5tpIGJhY2tlbmRcbiAgICAgIGNvbnN0IGFwaVBhcmFtczogUmVjb3JkPHN0cmluZywgYW55PiA9IHtcbiAgICAgICAgc2VhcmNoOiBwYXJhbXMuc2VhcmNoIHx8ICcnLFxuICAgICAgICBwYWdlOiBwYXJhbXMucGFnZSB8fCAxLFxuICAgICAgICBsaW1pdDogcGFyYW1zLmxpbWl0IHx8IDEwXG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBY4butIGzDvSB0aGFtIHPhu5Egcm9sZVxuICAgICAgaWYgKHBhcmFtcy5yb2xlICYmIHBhcmFtcy5yb2xlICE9PSAnYWxsJykge1xuICAgICAgICBhcGlQYXJhbXMucm9sZSA9IHBhcmFtcy5yb2xlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBY4butIGzDvSB0aGFtIHPhu5EgaXNfbG9ja2VkXG4gICAgICBpZiAocGFyYW1zLmlzX2xvY2tlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFwaVBhcmFtcy5pc19sb2NrZWQgPSBwYXJhbXMuaXNfbG9ja2VkO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBY4butIGzDvSB0aGFtIHPhu5Ega3ljX3N0YXR1c1xuICAgICAgaWYgKHBhcmFtcy5reWNfc3RhdHVzICYmIHBhcmFtcy5reWNfc3RhdHVzICE9PSAnYWxsJykge1xuICAgICAgICBhcGlQYXJhbXMua3ljX3N0YXR1cyA9IHBhcmFtcy5reWNfc3RhdHVzO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5nZXQoJy91c2VycycsIHsgcGFyYW1zOiBhcGlQYXJhbXMgfSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTOG7l2kgbOG6pXkgZGFuaCBzw6FjaCBuZ8aw4budaSBkw7luZzonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0sXG4gIFxuICAvLyBLaMOzYS9t4bufIGtow7NhIHTDoGkga2hv4bqjbiBuZ8aw4budaSBkw7luZ1xuICB0b2dnbGVVc2VyTG9jazogYXN5bmMgKHVzZXJJZDogc3RyaW5nLCBpc0xvY2tlZDogYm9vbGVhbikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5wdXQoJy91c2Vycy90b2dnbGUtbG9jaycsIHtcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBpc0xvY2tlZFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTOG7l2kga2hpIHRoYXkgxJHhu5VpIHRy4bqhbmcgdGjDoWkga2jDs2EgbmfGsOG7nWkgZMO5bmc6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9LFxuICBcbiAgLy8gQ+G6rXAgbmjhuq10IHRy4bqhbmcgdGjDoWkgS1lDXG4gIHVwZGF0ZUt5Y1N0YXR1czogYXN5bmMgKHVzZXJJZDogc3RyaW5nLCBreWNfc3RhdHVzOiAncGVuZGluZycgfCAndmVyaWZpZWQnIHwgJ3JlamVjdGVkJykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5wb3N0KCcvdXNlcnMvdXBkYXRlLWt5Yy1zdGF0dXMnLCB7XG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAga3ljU3RhdHVzOiBreWNfc3RhdHVzICAvLyDEkOG7lWkgdOG7qyBreWNfc3RhdHVzIHRow6BuaCBreWNTdGF0dXMgxJHhu4MgcGjDuSBo4bujcCB24bubaSBBUEkgYmFja2VuZFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTOG7l2kga2hpIGPhuq1wIG5o4bqtdCB0cuG6oW5nIHRow6FpIEtZQzonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn07XG5cbi8vIEFQSSBlbmRwb2ludHMgY2hvIHF14bqjbiBsw70gcGjGsMahbmcgdGnhu4duXG5leHBvcnQgY29uc3QgdmVoaWNsZUFwaSA9IHtcbiAgLy8gTOG6pXkgZGFuaCBzw6FjaCBwaMawxqFuZyB0aeG7h24gY2hvIGFkbWluXG4gIGdldFZlaGljbGVzOiBhc3luYyAocGFyYW1zOiB7XG4gICAgc2VhcmNoPzogc3RyaW5nO1xuICAgIHR5cGU/OiBzdHJpbmc7XG4gICAgc3RhdHVzPzogc3RyaW5nO1xuICAgIHNlbGxlcj86IHN0cmluZztcbiAgICBwYWdlPzogbnVtYmVyO1xuICAgIGxpbWl0PzogbnVtYmVyO1xuICB9KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFThuqFvIMSR4buRaSB0xrDhu6NuZyB0aGFtIHPhu5EgdMawxqFuZyB0aMOtY2ggduG7m2kgYmFja2VuZFxuICAgICAgY29uc3QgYXBpUGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge1xuICAgICAgICBwYWdlOiBwYXJhbXMucGFnZSB8fCAxLFxuICAgICAgICBsaW1pdDogcGFyYW1zLmxpbWl0IHx8IDEwXG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBY4butIGzDvSB0aGFtIHPhu5EgdMOsbSBraeG6v21cbiAgICAgIGlmIChwYXJhbXMuc2VhcmNoKSB7XG4gICAgICAgIGFwaVBhcmFtcy5zZWFyY2ggPSBwYXJhbXMuc2VhcmNoO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBY4butIGzDvSB0aGFtIHPhu5EgbG/huqFpIHhlXG4gICAgICBpZiAocGFyYW1zLnR5cGUgJiYgcGFyYW1zLnR5cGUgIT09ICdhbGwnKSB7XG4gICAgICAgIGFwaVBhcmFtcy50eXBlID0gcGFyYW1zLnR5cGU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFjhu60gbMO9IHRoYW0gc+G7kSB0cuG6oW5nIHRow6FpXG4gICAgICBpZiAocGFyYW1zLnN0YXR1cyAmJiBwYXJhbXMuc3RhdHVzICE9PSAnYWxsJykge1xuICAgICAgICBhcGlQYXJhbXMuc3RhdHVzID0gcGFyYW1zLnN0YXR1cztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gWOG7rSBsw70gdGhhbSBz4buRIG5nxrDhu51pIGLDoW5cbiAgICAgIGlmIChwYXJhbXMuc2VsbGVyICYmIHBhcmFtcy5zZWxsZXIgIT09ICdhbGwnKSB7XG4gICAgICAgIGFwaVBhcmFtcy5zZWxsZXIgPSBwYXJhbXMuc2VsbGVyO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5nZXQoJy92ZWhpY2xlcy9hZG1pbicsIHsgcGFyYW1zOiBhcGlQYXJhbXMgfSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTOG7l2kgbOG6pXkgZGFuaCBzw6FjaCBwaMawxqFuZyB0aeG7h246JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9LFxuICBcbiAgLy8gQ+G6rXAgbmjhuq10IHRy4bqhbmcgdGjDoWkgcGjGsMahbmcgdGnhu4duXG4gIHVwZGF0ZVZlaGljbGVTdGF0dXM6IGFzeW5jICh2ZWhpY2xlSWQ6IHN0cmluZywgc3RhdHVzOiAncGVuZGluZycgfCAnYXBwcm92ZWQnIHwgJ3JlamVjdGVkJyB8ICdzb2xkJyB8ICdoaWRkZW4nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LnB1dChgL3ZlaGljbGVzL2FkbWluLyR7dmVoaWNsZUlkfS9zdGF0dXNgLCB7IHN0YXR1cyB9KTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgY+G6rXAgbmjhuq10IHRy4bqhbmcgdGjDoWkgcGjGsMahbmcgdGnhu4duOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSxcbiAgXG4gIC8vIEzhuqV5IGNoaSB0aeG6v3QgcGjGsMahbmcgdGnhu4duXG4gIGdldFZlaGljbGVEZXRhaWxzOiBhc3luYyAodmVoaWNsZUlkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQuZ2V0KGAvdmVoaWNsZXMvJHt2ZWhpY2xlSWR9YCk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTOG7l2kga2hpIGzhuqV5IGNoaSB0aeG6v3QgcGjGsMahbmcgdGnhu4duOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSxcbiAgXG4gIC8vIFjDs2EgcGjGsMahbmcgdGnhu4duXG4gIGRlbGV0ZVZlaGljbGU6IGFzeW5jICh2ZWhpY2xlSWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5kZWxldGUoYC92ZWhpY2xlcy8ke3ZlaGljbGVJZH1gKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgeMOzYSBwaMawxqFuZyB0aeG7h246JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgYXBpQ2xpZW50OyAiXSwibmFtZXMiOlsiYXhpb3MiLCJBUElfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsImFwaUNsaWVudCIsImNyZWF0ZSIsImJhc2VVUkwiLCJoZWFkZXJzIiwidGltZW91dCIsImludGVyY2VwdG9ycyIsInJlcXVlc3QiLCJ1c2UiLCJjb25maWciLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJBdXRob3JpemF0aW9uIiwiY29uc29sZSIsImxvZyIsIm1ldGhvZCIsInRvVXBwZXJDYXNlIiwidXJsIiwicGFyYW1zIiwiZGF0YSIsImVycm9yIiwibWVzc2FnZSIsIlByb21pc2UiLCJyZWplY3QiLCJyZXNwb25zZSIsIkVycm9yIiwib3JpZ2luYWxSZXF1ZXN0Iiwic3RhdHVzIiwiX3JldHJ5IiwicmVmcmVzaFRva2VuIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwicG9zdCIsInNldEl0ZW0iLCJlcnIiLCJlcnJvckRhdGEiLCJlcnJvck1lc3NhZ2UiLCJsb2dvdXQiLCJyZW1vdmVJdGVtIiwidXNlckFwaSIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJfaWQiLCJmdWxsX25hbWUiLCJyb2xlIiwiZ2V0VXNlckRldGFpbHMiLCJ1c2VySWQiLCJnZXQiLCJnZXRVc2VyVmVoaWNsZXMiLCJnZXRVc2VycyIsImFwaVBhcmFtcyIsInNlYXJjaCIsInBhZ2UiLCJsaW1pdCIsImlzX2xvY2tlZCIsInVuZGVmaW5lZCIsImt5Y19zdGF0dXMiLCJ0b2dnbGVVc2VyTG9jayIsImlzTG9ja2VkIiwicHV0IiwidXBkYXRlS3ljU3RhdHVzIiwia3ljU3RhdHVzIiwidmVoaWNsZUFwaSIsImdldFZlaGljbGVzIiwidHlwZSIsInNlbGxlciIsInVwZGF0ZVZlaGljbGVTdGF0dXMiLCJ2ZWhpY2xlSWQiLCJnZXRWZWhpY2xlRGV0YWlscyIsImRlbGV0ZVZlaGljbGUiLCJkZWxldGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/api.ts\n"));

/***/ })

});